<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Configure File</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <style>
        #formatName ,#fileName,#batchlevel,#transactionlevel,#BrnchId{
            border-color: lightcoral;
            border-width: 2px;
            box-shadow: 1px 1px 2px;
        }

        #formatName:hover,#fileName:hover,#batchlevel:hover,#transactionlevel:hover,#BrnchId:hover {
            border-color: black;
            border-width: 2px;
            box-shadow: 2px 2px 4px;
            /* background-color: linen; */
            background-color: rgb(230, 225, 223);
        }
        #btnEdit,#btnSubmit,#btnReset{
            background-color:blue;
            color: white;
            box-shadow: 2px 2px 4px black;
        }
        #btnEdit:hover,#btnSubmit:hover,#btnReset:hover{
            background-color: white;
            color: blue;

        }




    </style>
</head>

<body>
<div class=" container-fluid">
    <form action="configure" method="post">
        <div class="row border text-center" id="configform"
             style="background-color:rgb(229, 229, 232);box-shadow: 2px 2px 4px;">
            <div class="col-12 p-0" style="background-color:rgb(245, 238, 227)">
                 <nav class="navbar navbar-expand-lg bg-body-tertiary  p-0 m-0 border-bottom border-dark border-3"
            style="background-color:rgb(245, 238, 227)">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">
                <img src="{{ url_for('static', filename='arthavedh.png') }}" class="w-50 h-50"> </a>

              <div class="collapse navbar-collapse text-start " id="navbarSupportedContent">
                <ul class="navbar-nav mx-auto mb-2 mb-lg-0  ">
                  <h1 style="margin-left: -100px;
font-size:40px; ">CONFIGURATION</h1>
                </ul>

              </div>
            </div>
          </nav>
            </div>

            <div class="row justify-content-center px-5">
                <div class="col-12 col-md-3"></div>
                <div class="col-12 col-md-3 text-start mt-5">
                    <label for="formatName" class="col-form-label fw-bold">Format Name</label>
                </div>
                <div class="col-12 col-md-4 mt-5">
                    <input type="text" id="formatName" class="form-control ms-1 w-75"
                           placeholder="--Enter Value--" value="{{ template }}" name="formatname"/>
                </div>
                <div class="col-12 col-md-2"></div>
                <div class="col-12 col-md-3"></div>
                <div class="col-12 col-md-3 text-start mt-4">
                    <label for="fileName" class="col-form-label fw-bold">File Name</label>
                </div>
                <div class="col-12 col-md-4 mt-4">
                    <input type="text" id="fileName" class="form-control ms-1 w-75"
                           placeholder="--Enter Value--" value="{{ file }}" name="filename"/>
                </div>
                <div class="col-12 col-md-2"></div>
                <div class="row border border-black border-2 mt-5 py-5 text-center ms-2 mb-5 shadow" style="background-color: rgb(234, 234, 235); ">
                    <div class="col-12 col-md-1"></div>
                    <div class="col-12 col-md-10 text-center px-5">
                        <div class="row ">
                            <div class="col-12 col-md-2"></div>

                            <div class="col-12 col-md-3 text-start">
                                <label for="batchlevel" class=" fw-bold">Batch Tag</label>
                            </div>
                            <div class="col-12 col-md-1"></div>
                            <div class="col-12 col-md-5 text-center">
                                <input type="text" id="batchlevel" class="form-control ms-1 w-75"
                                       placeholder="--Enter Value--" value="{{ batchtag }}" name="batchelement"/>
                            </div>
                            <div class="col-12 col-md-2"></div>
                            <div class="col-12 col-md-3 text-start mt-3">
                                <label for="transactionlevel" class=" fw-bold">Transaction Tag</label>
                            </div>
                            <div class="col-12 col-md-1"></div>

                            <div class="col-12 col-md-5 my-3 ">
                                <input type="text" id="transactionlevel" class="form-control ms-1 w-75"
                                       placeholder="--Enter Value--" value="{{ txntag }}" name="transactionelement"/>
                            </div>
                            <div class="col-12 col-md-1"></div>
                        </div>
                    </div>
                    <div class="col-12 col-md-1"></div>
                    <div class="row  mx-3 mt-3 pt-3 px-3 ms-1 text-center" id="edit_section">
                        <div class="col-12 col-md-1"></div>
                        <div class="col-12 col-md-10 border shadow ">
                            <div class="row mt-5 text-start ms-5">
                                  {% for row in data %}
                                <div class="col-12 col-md-6">
                                    <div class="row">
                                        <div class="col-12 col-md-1 mt-2">
                                            <input class="form-check-input" type="checkbox" value="true"
                                                id="flexCheckChecked{{ loop.index }}" name="flexCheckChecked{{ loop.index }}" checked data-label="{{ row[0] }}">
                                        </div>
                                        <div class="col-12 col-md-4">
                                            <label for="BrnchId[]" class="col-form-label fw-bold" id="lableforcheckbox">{{ row[0] }}</label>
                                            <input type="hidden" name="labels[]" value="{{ row[0] }}">
                                        </div>
                                        <div class="col-12 col-md-7">
                                            <input type="text" id="BrnchId[]" class="form-control shadow ms-1 w-75 mt-1"
                                                placeholder="--Enter Value--" name="BrnchId[]" value="{{ row[1] }}" />
                                            <input type = "hidden" name = "current_brnch_ids[]" value = "{{ row[1] }}">
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                             <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                            <script>
                            function checkCheckbox() {
                                var labels = [];
                                $("input[type=checkbox]").each(function() {
                                    if (!this.checked) {
                                        labels.push($(this).data("label"));
                                    }

                                });
                                if (labels.length > 0) {
                                    $.ajax({
                                        url: '/configure',
                                        type: 'POST',
                                        data: {'checkbox': 'unchecked', 'labels': labels},
                                        success: function(response) {
                                            console.log(response);
                                        }
                                    });
                                }
                                return true;
                            }
                            </script>
                                 <div class="col-12 col-md-12 text-center mt-5 mb-3">
                                    <button type="button" class="btn btn-primary w-25" id="btnEdit">Edit</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-1"></div>
                    </div>


                    <script>
                    // Get the container element and the add button
                    const container = document.getElementById("container");
                    const addButton = document.getElementById("add-button");

                    // Add a click event listener to the add button
                    addButton.addEventListener("click", function () {
                        // Create the label elements and set their attributes
                        const label1 = document.createElement("label");
                        label1.textContent = "Name :";
                        label1.classList = 'col-1 text-center mt-3 fw-bold ms-4';
                        const label2 = document.createElement("label");
                        label2.textContent = "Path :";
                        label2.classList = 'col-1 text-center mt-3 fw-bold';

                        // Create the textbox elements and set their attributes
                        const textbox1 = document.createElement("input");
                        textbox1.type = "text";
                        textbox1.classList = "my-3 shadow py-1 col-4 rounded";
                        const textbox2 = document.createElement("input");
                        textbox2.type = "text";
                        textbox2.classList = "my-3 shadow py-1 col-4 rounded";

                        // Create the remove button element and set its attributes
                        const removeButton = document.createElement("button");
                        removeButton.textContent = "-";
                        removeButton.classList = "col-auto btn btn-secondary mx-4 my-3 text-center rounded-circle";
                        removeButton.addEventListener("click", function () {
                            // Remove the label elements, textbox elements, and remove button element
                            label1.remove();
                            label2.remove();
                            textbox1.remove();
                            textbox2.remove();
                            removeButton.remove();
                        });

                        // Add the label elements, textbox elements, and remove button element to the container element
                        container.appendChild(label1);
                        container.appendChild(textbox1);
                        container.appendChild(label2);
                        container.appendChild(textbox2);
                        container.appendChild(removeButton);
                    });
                    </script>

                    <div class="row" id="container">
                        <div class="col-12 col-md-1 text-center mt-5  ms-4 ">
                            <label class="fw-bold">Name :</label>
                        </div>
                        <div class="col-12 col-md-4 mt-5">
                            <input type="text" class="shadow py-1 rounded w-100 text-start">
                        </div>
                        <div class="col-12 col-md-1 text-center mt-5 ">
                            <label class="fw-bold">Path :</label>
                        </div>
                        <div class="col-12 col-md-4 mt-5">
                            <input type="text" class="shadow py-1 rounded w-100 text-start ">
                        </div>

                        <div class="col-12 col-md-1 mt-5 text-start ">
                            <button id="add-button" class=" btn btn-secondary rounded ">Add</button>
                        </div>
                    </div>
                </div>
                <div class="row">
                        <div class="col-12 col-md-6 text-end">
                            <button type="submit" class="btn btn-primary mb-5 w-25" id="btn"  onclick="return checkCheckbox()">Submit</button>
                        </div>
                        <div class="col-12 col-md-6 text-start">
                            <button type="reset" class="btn btn-primary mb-5 w-25" id="btnReset">Reset</button>
                        </div>
                    </div>
            </div>
        </div>
    </form>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
</body>

</html>